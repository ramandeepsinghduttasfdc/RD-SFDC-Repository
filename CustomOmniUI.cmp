<aura:component implements="flexipage:availableForAllPageTypes" controller="CustomOmniUIController">
	<aura:attribute name="checked" type="Boolean" default="false"/>
    <aura:attribute name="hasWork" type="Boolean" default="false"/>
    <aura:attribute name="case" type="Sobject"/>
	<lightning:omniToolkitAPI aura:id="omniToolkit" />
	<div class="slds-box">
        <lightning:input name="toggle"
                         label="Omni Availability Switch"
                         type="toggle"
                         checked="{!v.checked}"
                         onchange="{!c.handleToggleChanged}">
        </lightning:input>
    </div>
    <aura:if isTrue="{!v.hasWork}">
        <div class="slds-m-top_medium slds-box slds-theme_shade slds-theme_alert-texture">
            <div class="slds-text-heading_medium">
                <strong>New Work Item to be Picked!</strong>
            </div>
            <dl class="slds-dl_inline slds-text-heading_small slds-p-top_medium">
                <dt class="slds-dl_inline__label"><strong>Case Number:</strong></dt>
                <dd class="slds-dl_inline__detail">{!v.case.CaseNumber}</dd>
                <dt class="slds-dl_inline__label"><strong>Account:</strong></dt>
                <dd class="slds-dl_inline__detail">{!v.case.Account.Name}</dd>
                <dt class="slds-dl_inline__label"><strong>Subject:</strong></dt>
                <dd class="slds-dl_inline__detail">{!v.case.Subject}</dd>
                
                <lightning:buttonGroup class="slds-float_right slds-p-top_medium">
                    <lightning:button label="Accept" onclick="{! c.acceptWork }" />
                    <lightning:button label="Decline" onclick="{! c.declineWork }" />
                </lightning:buttonGroup>
            </dl>
        </div>
    </aura:if>
    <aura:handler event="lightning:omniChannelWorkAssigned" action="{! c.onWorkAssigned }"/>
    <aura:handler event="lightning:omniChannelWorkAccepted" action="{! c.onWorkAccepted }"/>
    <aura:handler event="lightning:omniChannelWorkDeclined" action="{! c.onWorkDeclined }"/>
    <aura:handler event="lightning:omniChannelLogout" action="{! c.onLogout }"/>
</aura:component>
